<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body {
  font-family: Arial, Helvetica, sans-serif;

}
.bg
 {
     background-image: url("https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcS2VRQR85YqOPNicpaLikhrx0mLSbWmXI42fPXlxRAxmtkWbii8");
     background-size:cover;
     min-height:700px;
 }
     
* {
  box-sizing: border-box;
}

/* Add padding to containers */
.container {
  padding: 16px;
  background: rgba(240, 171, 171, 0.856);
}
form {border: 3px solid #f1f1f1;}
/* Full-width input fields */
input[type=text], input[type=password] {
  width: 100%;
  padding: 15px;
  margin: 5px 0 22px 0;
  display: inline-block;
  border: none;
  background: #f1f1f1;
}
 .bg1
       {
   
        background: rgba(20, 2, 2, 0.644); /* This is for ie8 and below */
      background: rgba(27, 3, 3, 0.5);
       } 
input[type=text]:focus, input[type=password]:focus {
  background-color: #ddd;
  outline: none;
}

/* Overwrite default styles of hr */
hr {
  border: 1px solid #f1f1f1;
  margin-bottom: 25px;
}

/* Set a style for the submit button */
.registerbtn {
  background-color: #4CAF50;
  color: white;
  padding: 16px 20px;
  margin: 8px 0;
  border: none;
  cursor: pointer;
  width: 100%;
  opacity: 0.9;
}
.footer {
        
        left: 0;
        bottom: 0;
        width: 100%;
       position: fixed;
        color: white;
        text-align: center;
     }

a {
  color: dodgerblue;
}

.signin {
  background-color: #f1f1f1;
  text-align: center;
}

   
</style>


</head>
<body class="bg">
    <nav class="navbar navbar-expand-sm bg-dark navbar-dark">
        <a class="navbar-brand" href="#">
            <img src="/assets/final.png" style="width:40px;">
          </a>
          <ul class="navbar-nav">
              <div class="navbar-nav ml-auto">
             
                  <a class="navbar-brand" href="#">Blood Donation</a>
                
              </div>
         </ul>
    </nav>
    <div class="col mx-auto" *ngIf="!flag">
        <div class="card mx-auto bg1" style="width:1000px;">
            <div class="card-body">
               
<form class="bg1" (ngSubmit)="register(user)" #registerform="ngForm">

    <div class="container">  
<b>Register</b>

        <p>Please fill in this form to create an account.</p>
        <hr>
 <div class="row">   
     <div class="col-sm">
      <div class="form-group" >
        <label for="fn"><b>First name</b></label>
        <input type="text" class="form-control" pattern="^[a-zA-Z]{1,15}$" required [class.is-invalid]="firstName.invalid && firstName.touched"  id="fn" placeholder="Enter First name" [(ngModel)]="user.firstName" #firstName="ngModel" name="firstName" >
    
        <div *ngIf="(firstName.invalid && firstName.touched)" class="invalid-feedback alertmsg">
            <b *ngIf="firstName.errors.required">Firstname is required</b>
            <b *ngIf="firstName.errors.pattern">Firstname should not contain numbers</b>
          </div>
  
        </div>
       
      </div>
       
    
     <div class="col-sm">
    <div class="form-group">
        <label for="ln"><b>Last Name</b></label>
        <input type="text" class="form-control" pattern="^[a-zA-Z]{1,15}$" required [class.is-invalid]="lastName.invalid && lastName.touched"  id="ln" placeholder="Enter Last name" name="lastName"  [(ngModel)]="user.lastName"  #lastName="ngModel">
       
        <div *ngIf="(lastName.invalid && lastName.touched)" class="invalid-feedback alertmsg">
            <div *ngIf="lastName.errors.required"><b>Lastname is required</b></div>
            <div *ngIf="lastName.errors.pattern"><b>Lastname should not contain numbers</b>
          </div>
        
    </div>
    </div>
    </div>
 </div>
  <div class="row">
    
   
        
    <div class="col-sm">
        <div class="form-group">
            <label for="bg"><b>Blood group</b></label> 
            <select  class="form-control" required [class.is-invalid]="bloodGroup.invalid &&bloodGroup.touched" placeholder="Enter Bloodgroup" id="bg" [(ngModel)]="user.bloodGroup" #bloodGroup="ngModel" name="bloodGroup">
              
                <option value="Apositive">A+</option>
                <option value="Anegative">A-</option>
                <option value="Bpositive">B+</option>
                <option value="Bnegative">B-</option>
                <option value="Opositive">O+</option>
                <option value="Onegative">O-</option>
                <option value="ABpositive">AB+</option>
                <option value="ABnegative">AB-</option>
        
            </select>
            <b class="invalid-feedback alertmsg" [class.d-none]="bloodGroup.valid ||bloodGroup.untouched">
                bloodGroup is Required
            </b>
        </div>
      </div>
  
 
    <div class="col-sm">
        <div class="form-group">
        <label for="gender"><b>Gender</b></label>  <br/>
        <select  class="form-control"  required [class.is-invalid]="gender.invalid && gender.touched" id="gender" placeholder="Enter Gender" [(ngModel)]="user.gender" #gender="ngModel" name="gender">
          
            <option value="Male">Male</option>
            <option value="female">Female</option>
            <option value="female">Other</option>
        </select>
        <b class="invalid-feedback alertmsg" [class.d-none]="gender.valid ||gender.untouched">
          Gender is Required
           </b>
       </div>
    </div>
    <div class="col-sm">
        <div class="form-group">
            <label for="weight"><b>Weight</b></label>
            <input type="number" pattern="[0-9]{2}"  class="form-control" id="weight" required [class.is-invalid]="weight.invalid && weight.touched" placeholder="Enter Weight" name="weight" [(ngModel)]="user.weight" #weight="ngModel" required>
            <b class="invalid-feedback alertmsg" [class.d-none]="weight.valid ||weight.untouched">
                Weight is Required or Invalid
            </b>
          </div>
        </div>
     </div>
     <div class="row">
    <div class="col-sm">
    <div class="form-group">
        <label for="age"><b>Age</b></label>
        <input type="text" pattern="[2-5]{1}[0-9]{1}"  class="form-control"  required [class.is-invalid]="age.invalid && age.touched" id="age"  placeholder="Enter Age" name="age" [(ngModel)]="user.age"  #age="ngModel" min="20">
        <b class="invalid-feedback alertmsg" [class.d-none]="age.valid || age.untouched ">
            Age is Required or Invalid
        </b>
      </div>
    </div>
    <div class="col-sm">
        <div class="form-group">
          <label for="pass"><b>Password</b></label>
          <input type="password"  class="form-control" required [class.is-invalid]="pass.invalid && pass.touched" id="pass"  placeholder="Enter Password" name="pass" [(ngModel)]="user.pass" #pass="ngModel" required>
          <b class="invalid-feedback alertmsg" [class.d-none]="pass.valid ||pass.untouched">
              Password is Required 
          </b>
        </div>
        </div>
  </div>
 
     <div class="row">
        <div class="col-sm">
        <div class="form-group">
        <label for="email"><b>Email</b></label>
        <input type="text"  pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{3,}$" class="form-control" required [class.is-invalid]="email.invalid && email.touched" id="email"  placeholder="Enter Email" name="email" [(ngModel)]="user.email" #email="ngModel" required>
        <b class="invalid-feedback alertmsg" [class.d-none]="email.valid || email.untouched" >
            Email is Required 
        </b>
          <div  class="text-error text-danger" *ngIf="Unique(email.value)&& email.touched && email.dirty && email.value!=''" ><b>Email Already exists</b></div>


            </div>
            </div>
            <div class="col-sm">
                <div class="form-group">
                 <label for="con"><b>Contact</b></label>
                 <input type="text" pattern="[6-9]{1}[0-9]{9}" maxlength="10" class="form-control" required [class.is-invalid]="contact.invalid && contact.touched" id="con"  placeholder="Enter Contact" name="con" [(ngModel)]="user.contact" #contact="ngModel" required>
              
                 <b class="invalid-feedback alertmsg" [class.d-none]="contact.valid || contact.untouched">
                     Contact is invalid
                </b>
                   <div  class="text-error text-danger" *ngIf="UniqueContact(contact.value)&& contact.touched && contact.dirty && contact.value!=''" ><b>Contact Already exists</b></div>
                  
         
         
               </div>
         
                 </div>
                  
        </div>
     
    
    

  <div class="row">
      <div class="col-sm">
          <div class="form-group">
              <label for="state"><b>State</b></label>
              <select class="form-control" required [class.is-invalid]="state.invalid && state.touched" id="state" name="state" (change)="AssignArea(state.value)" [(ngModel)]="user.state" #state="ngModel">
                      <option *ngFor="let st of states" [value]="st">{{st}}</option>
              </select>
              <b class="invalid-feedback alertmsg" [class.d-none]="state.valid || state.untouched">State is Required</b>
          </div>   

          </div>
      <div class="col-sm">
          <div class="form-group">
              <label for="area"><b>Area</b></label>
              <select class="form-control" required [class.is-invalid]="area.invalid && area.touched" id="area" name="area" [(ngModel)]="user.area" #area="ngModel">
                  <option *ngFor="let ar of areas" [value]="ar">{{ar}}</option>
              </select>
              <b class="invalid-feedback alertmsg" [class.d-none]="area.valid || area.untouched">Area is Required</b>
          </div>   

          </div>
          <div class="col-sm">
              <div class="form-group">
                  <label for="pin"><b>Pincode</b></label>
                  <input type="text" pattern="[4-9]{1}[0-9]{5}" maxlength="6" class="form-control" id="pin" required [class.is-invalid]="pinCode.invalid &&pinCode.touched" placeholder="Enter Pincode" name="pinCode" [(ngModel)]="user.pinCode" #pinCode="ngModel" required>
                  <b class="invalid-feedback alertmsg" [class.d-none]="pinCode.valid ||pinCode.untouched">
                     PinCode is Required or Invalid
                  </b>
                </div>
              </div>
  </div>
      
        <hr>
        <p>By creating an account you agree to our <a href="#">Terms & Privacy</a>.</p>
    
        <button type="submit" [disabled]="registerform.invalid" class="registerbtn"><i class="fa fa-sign-in" aria-hidden="true"></i>Register</button>
</div>
</form>   

</div>
</div>
</div>
<div class="card" class="alert alert-success" *ngIf="flag" >
    <div class="card-body mx-auto"> 
    
         <h2><strong>Registered successfully</strong></h2> 
         <h3>Your UserId {{userdetails.userId}}</h3>

  <button class="btn btn-default btn-danger mx-auto" routerLink='/login'>Login</button>
     </div> 
 </div>
 <footer class="bottom-footer footer bg-dark">
    <p style="margin-left:50px">copyright 2019</p>
   </footer>
</body>
 
